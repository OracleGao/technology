# ssh tunnel 反向代理(内网穿透)
- 通过外网主机的特定端口访问内网主机特定端口的网络服务

## 设备信息
- 47.93.199.97 外网代理主机，用来代理内网主机的网络服务。不能访问192.168.10.2内网主机
- 192.168.10.2 内网主机，可以访问外网47.93.199.97主机（可以通过ssh的方式登录该机）

## 示例场景
- 通过ssh root@47.93.199.97 -p 2222的方式登录192.168.10.2主机（通过47.93.199.97的2222端口，访问192.168.10.2的22端口的ssh服务）

## 环境准备
### 47.93.199.97


- 在内网主机执行"ssh -NfR <remote binding host>:<remote bing port>:<local host>:<local port> <remote login user>@<remote host>"指令，使用远程主机代理内网上主机服务
- 内网主机能够正常访问47.93.199.97主机，以下示例将内网主机的ssh服务代理到47.93.199.97主机的2222端口，在内网主机上执行下列指令后，输入47.93.199.97主机ssh登录root密码，即可在
``` shell
ssh -NfR *:2222:127.0.0.1:22 root@47.93.199.97
```
- 

## ref
- [ssh tunnel 三种模式](https://github.com/caojx-git/learn/blob/master/notes/linux/ssh%20tunnel%20%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F_2.md)
